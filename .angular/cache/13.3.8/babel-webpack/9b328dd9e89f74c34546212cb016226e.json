{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SyncDelegateHost = exports.SynchronousDelegateExpectedException = void 0;\n\nconst exception_1 = require(\"../../exception\");\n\nclass SynchronousDelegateExpectedException extends exception_1.BaseException {\n  constructor() {\n    super(`Expected a synchronous delegate but got an asynchronous one.`);\n  }\n\n}\n\nexports.SynchronousDelegateExpectedException = SynchronousDelegateExpectedException;\n/**\n * Implement a synchronous-only host interface (remove the Observable parts).\n */\n\nclass SyncDelegateHost {\n  constructor(_delegate) {\n    this._delegate = _delegate;\n\n    if (!_delegate.capabilities.synchronous) {\n      throw new SynchronousDelegateExpectedException();\n    }\n  }\n\n  _doSyncCall(observable) {\n    let completed = false;\n    let result = undefined;\n    let errorResult = undefined; // Perf note: this is not using an observer object to avoid a performance penalty in RxJS.\n    // See https://github.com/ReactiveX/rxjs/pull/5646 for details.\n\n    observable.subscribe(x => result = x, err => errorResult = err, () => completed = true);\n\n    if (errorResult !== undefined) {\n      throw errorResult;\n    }\n\n    if (!completed) {\n      throw new SynchronousDelegateExpectedException();\n    } // The non-null operation is to work around `void` type. We don't allow to return undefined\n    // but ResultT could be void, which is undefined in JavaScript, so this doesn't change the\n    // behaviour.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n\n    return result;\n  }\n\n  get capabilities() {\n    return this._delegate.capabilities;\n  }\n\n  get delegate() {\n    return this._delegate;\n  }\n\n  write(path, content) {\n    return this._doSyncCall(this._delegate.write(path, content));\n  }\n\n  read(path) {\n    return this._doSyncCall(this._delegate.read(path));\n  }\n\n  delete(path) {\n    return this._doSyncCall(this._delegate.delete(path));\n  }\n\n  rename(from, to) {\n    return this._doSyncCall(this._delegate.rename(from, to));\n  }\n\n  list(path) {\n    return this._doSyncCall(this._delegate.list(path));\n  }\n\n  exists(path) {\n    return this._doSyncCall(this._delegate.exists(path));\n  }\n\n  isDirectory(path) {\n    return this._doSyncCall(this._delegate.isDirectory(path));\n  }\n\n  isFile(path) {\n    return this._doSyncCall(this._delegate.isFile(path));\n  } // Some hosts may not support stat.\n\n\n  stat(path) {\n    const result = this._delegate.stat(path);\n\n    if (result) {\n      return this._doSyncCall(result);\n    } else {\n      return null;\n    }\n  }\n\n  watch(path, options) {\n    return this._delegate.watch(path, options);\n  }\n\n}\n\nexports.SyncDelegateHost = SyncDelegateHost;","map":{"version":3,"sources":["/home/unthinkable-lap-0268/Documents/angularProject/node_modules/@angular-devkit/core/src/virtual-fs/host/sync.js"],"names":["Object","defineProperty","exports","value","SyncDelegateHost","SynchronousDelegateExpectedException","exception_1","require","BaseException","constructor","_delegate","capabilities","synchronous","_doSyncCall","observable","completed","result","undefined","errorResult","subscribe","x","err","delegate","write","path","content","read","delete","rename","from","to","list","exists","isDirectory","isFile","stat","watch","options"],"mappings":"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","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncDelegateHost = exports.SynchronousDelegateExpectedException = void 0;\nconst exception_1 = require(\"../../exception\");\nclass SynchronousDelegateExpectedException extends exception_1.BaseException {\n    constructor() {\n        super(`Expected a synchronous delegate but got an asynchronous one.`);\n    }\n}\nexports.SynchronousDelegateExpectedException = SynchronousDelegateExpectedException;\n/**\n * Implement a synchronous-only host interface (remove the Observable parts).\n */\nclass SyncDelegateHost {\n    constructor(_delegate) {\n        this._delegate = _delegate;\n        if (!_delegate.capabilities.synchronous) {\n            throw new SynchronousDelegateExpectedException();\n        }\n    }\n    _doSyncCall(observable) {\n        let completed = false;\n        let result = undefined;\n        let errorResult = undefined;\n        // Perf note: this is not using an observer object to avoid a performance penalty in RxJS.\n        // See https://github.com/ReactiveX/rxjs/pull/5646 for details.\n        observable.subscribe((x) => (result = x), (err) => (errorResult = err), () => (completed = true));\n        if (errorResult !== undefined) {\n            throw errorResult;\n        }\n        if (!completed) {\n            throw new SynchronousDelegateExpectedException();\n        }\n        // The non-null operation is to work around `void` type. We don't allow to return undefined\n        // but ResultT could be void, which is undefined in JavaScript, so this doesn't change the\n        // behaviour.\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return result;\n    }\n    get capabilities() {\n        return this._delegate.capabilities;\n    }\n    get delegate() {\n        return this._delegate;\n    }\n    write(path, content) {\n        return this._doSyncCall(this._delegate.write(path, content));\n    }\n    read(path) {\n        return this._doSyncCall(this._delegate.read(path));\n    }\n    delete(path) {\n        return this._doSyncCall(this._delegate.delete(path));\n    }\n    rename(from, to) {\n        return this._doSyncCall(this._delegate.rename(from, to));\n    }\n    list(path) {\n        return this._doSyncCall(this._delegate.list(path));\n    }\n    exists(path) {\n        return this._doSyncCall(this._delegate.exists(path));\n    }\n    isDirectory(path) {\n        return this._doSyncCall(this._delegate.isDirectory(path));\n    }\n    isFile(path) {\n        return this._doSyncCall(this._delegate.isFile(path));\n    }\n    // Some hosts may not support stat.\n    stat(path) {\n        const result = this._delegate.stat(path);\n        if (result) {\n            return this._doSyncCall(result);\n        }\n        else {\n            return null;\n        }\n    }\n    watch(path, options) {\n        return this._delegate.watch(path, options);\n    }\n}\nexports.SyncDelegateHost = SyncDelegateHost;\n"]},"metadata":{},"sourceType":"script"}